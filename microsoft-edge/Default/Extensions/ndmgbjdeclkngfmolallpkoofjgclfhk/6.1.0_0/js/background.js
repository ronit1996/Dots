/*! For license information please see background.js.LICENSE.txt */
!function(e){function t(t){for(var o,i,c=t[0],s=t[1],E=t[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(l&&l(t);h.length;)h.shift()();return a.push.apply(a,E||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={3:0,4:0,5:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var E=0;E<c.length;E++)t(c[E]);var l=s;a.push([24,0]),n()}({1:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));const o={PARTY_JOINED:"PARTY_JOINED",NEXT_EPISODE:"NEXT_EPISODE",NEXT_EPISODE_PLAYBACK:"NEXT_EPISODE_PLAYBACK",USER_JOINED:"USER_JOINED",USER_LEFT:"USER_LEFT",INITIALIZE:"INITIALIZE",CREATE_PARTY:"CREATE_PARTY",SESSION_CREATED:"SESSION_CREATED",EXIT_PARTY:"EXIT_PARTY",PLAY:"PLAY",PAUSE:"PAUSE",SEEK:"SEEK",PAUSE_PLAYBACK:"PAUSE_PLAYBACK",RESUME_PLAYBACK:"RESUME_PLAYBACK",SEEK_PLAYBACK:"SEEK_PLAYBACK",TOGGLE_CHAT:"TOGGLE_CHAT",CHAT_MESSAGE:"CHAT_MESSAGE",PLAYER_STATE:"PLAYER_STATE",UPDATE_USER:"UPDATE_USER",USER_UPDATED:"USER_UPDATED",EMOJI:"EMOJI",ERROR:"ERROR",USER_EXIT:"USER_EXIT",INPUT_EMOJI:"INPUT_EMOJI",REJOIN_PARTY:"REJOIN_PARTY",UPDATE_META:"UPDATE_META",USER_CALL_STARTED:"USER_CALL_STARTED",USER_CALL_REQUEST:"USER_CALL_REQUEST",USER_CALL_ACK:"USER_CALL_ACK",USER_CALL_JOINED:"USER_CALL_JOINED",USER_CALL_END:"USER_CALL_END",USER_CALL_UNMUTE:"USER_CALL_UNMUTE",USER_CALL_MUTE:"USER_CALL_MUTE",VOICE_CALL_STARTED:"VOICE_CALL_STARTED",PRE_INITIALIZE:"PRE_INITIALIZE"},r=.03,a=[o.PLAY,o.PAUSE,o.PAUSE_PLAYBACK,o.RESUME_PLAYBACK],i={E0:{key:"E0",details:"Not able to find video, Please try again!"},E1:{key:"E1",details:"Looks like you are trying to join invalid Session"},E2:{key:"E2",details:"Video not loaded. Please try again!"}},c={NETFLIX:"netflix",PRIME_VIDEO:"primevideo",HOTSTAR:"hotstar",YOUTUBE:"youtube",CRUNCHY_ROLL:"crunchyroll",DRIVE:"drive",WATCHFLIX:"WATCHFLIX"}},14:function(e,t){var n,o,r,a,i,c;n=window,o=document,r="script",a="ga",n.GoogleAnalyticsObject=a,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,i=o.createElement(r),c=o.getElementsByTagName(r)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",c.parentNode.insertBefore(i,c),ga("create","UA-167980632-1","auto"),ga("set","checkProtocolTask",null)},24:function(e,t,n){n(14),e.exports=n(27)},27:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(10),a=n(13);const i={contentScriptExecuted:0,announcements:[],extension:null};function c(e,t,n,o){const r=n;chrome.tabs.sendMessage(r.id,{type:e,data:t},(function(e){chrome.runtime.lastError||o&&o(e)}))}let s;function E({eventAction:e,eventLabel:t}){ga("send","event","watchflix",e,t)}chrome.runtime.onInstalled.addListener((function(){chrome.declarativeContent.onPageChanged.removeRules(void 0,(function(){chrome.declarativeContent.onPageChanged.addRules([{conditions:[new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".primevideo.",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".amazon.",urlContains:"/video/",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".amazon.",urlContains:"/Amazon-Video/",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".hotstar.",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".netflix.",urlContains:"/watch/",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".youtube.",urlContains:"/watch",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".crunchyroll.",urlContains:"episode-",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:"drive.",urlContains:"/view",schemes:["http","https"]}}),new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostContains:".watchflix.",schemes:["http","https"]}})],actions:[new chrome.declarativeContent.ShowPageAction]}])}))})),chrome.runtime.onInstalled.addListener((function(e){if("install"===e.reason){const{version:e}=chrome.runtime.getManifest();E({eventAction:"INSTALL",eventLabel:e}),chrome.tabs.create({url:"http://watchflix.group/"}),chrome.runtime.setUninstallURL("https://forms.gle/vtX4SPJqDZmLJd8DA")}else if("UPDATE"===e.reason){const{version:e}=chrome.runtime.getManifest();E({eventAction:"UPDATE",eventLabel:e})}})),chrome.runtime.onUpdateAvailable.addListener((function(e){E({eventAction:"AUTO_UPDATE",eventLabel:e.version}),chrome.runtime.reload()})),chrome.pageAction.onClicked.addListener((function(){})),chrome.runtime.onMessage.addListener((function(e,t,n){if("url"===e.type)return void n({url:t.tab.url});const o=Object(r.b)(t.tab.url);ga("send","event",o,e.type,e.session_id),o===s&&void 0!==o||(ga("send","pageview",`${o}/${e.session_id}${(null==e?void 0:e.content_id)?"/"+e.content_id:""}`),s=o)})),chrome.webNavigation.onCommitted.addListener((function({url:e,tabId:t}){switch(Object(r.b)(e)){case o.b.YOUTUBE:{const n=new URLSearchParams(e).get("wpId");n&&function(e,t,n=(()=>{}),s){const{contentScriptExecuted:E}=i,l=s;!E&&[o.b.YOUTUBE].includes(Object(r.b)(l.url))?new a.a(l.id).executeScripts("js/vendors.js","js/shared.js","js/common.js","js/content.js").then(()=>{c(e,t,s,n)}):c(e,t,s,n)}(o.c.PRE_INITIALIZE,{wpId:n},()=>{},{url:e,id:t});break}}}),{url:[{hostContains:".youtube.",pathPrefix:"/watch",urlContains:"&wpId="}]})}});