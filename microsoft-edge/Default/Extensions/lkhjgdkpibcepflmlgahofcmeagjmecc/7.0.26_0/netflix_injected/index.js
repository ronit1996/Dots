var scener=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=465)}({0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return isFullscreen}));__webpack_require__.d(__webpack_exports__,"d",(function(){return elemVis}));__webpack_require__.d(__webpack_exports__,"a",(function(){return elemAttr}));__webpack_require__.d(__webpack_exports__,"c",(function(){return elemText}));__webpack_require__.d(__webpack_exports__,"b",(function(){return elemData}));__webpack_require__.d(__webpack_exports__,"g",(function(){return reg}));__webpack_require__.d(__webpack_exports__,"i",(function(){return xpath}));__webpack_require__.d(__webpack_exports__,"h",(function(){return titleCase}));__webpack_require__.d(__webpack_exports__,"f",(function(){return onLoaded}));var isFullscreen=function isFullscreen(){if(document.fullscreenElement){return true}var isMac=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(isMac){return!window.screenTop&&!window.screenY}else{return window.innerHeight==window.outerHeight&&window.innerHeight>=screen.availHeight-1}};var timeStrToSeconds=function timeStrToSeconds(str){var p=str.split(":"),s=0,m=1;while(p.length>0){s+=m*parseInt(p.pop(),10);m*=60}return s};var elemVis=function elemVis(){try{for(var _len=arguments.length,selectors=new Array(_len),_key=0;_key<_len;_key++){selectors[_key]=arguments[_key]}for(var _i=0,_selectors=selectors;_i<_selectors.length;_i++){var sel=_selectors[_i];if(document.querySelector(sel)&&document.querySelector(sel).offsetParent){return true}}}catch(e){}return false};var elemAttr=function elemAttr(attr){try{for(var _len2=arguments.length,selectors=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){selectors[_key2-1]=arguments[_key2]}for(var _i2=0,_selectors2=selectors;_i2<_selectors2.length;_i2++){var sel=_selectors2[_i2];if(document.querySelector(sel)&&document.querySelector(sel).hasAttribute(attr)){return document.querySelector(sel).getAttribute(attr)}}}catch(e){}return null};var elemText=function elemText(){try{for(var _len3=arguments.length,selectors=new Array(_len3),_key3=0;_key3<_len3;_key3++){selectors[_key3]=arguments[_key3]}for(var _i3=0,_selectors3=selectors;_i3<_selectors3.length;_i3++){var sel=_selectors3[_i3];if(document.querySelector(sel)){return document.querySelector(sel).hasAttribute("content")?document.querySelector(sel).content.trim():document.querySelector(sel).textContent.trim()}}}catch(e){}return null};var elemData=function elemData(){try{for(var _len4=arguments.length,selectors=new Array(_len4),_key4=0;_key4<_len4;_key4++){selectors[_key4]=arguments[_key4]}for(var _i4=0,_selectors4=selectors;_i4<_selectors4.length;_i4++){var sel=_selectors4[_i4];if(document.querySelector(sel)){return JSON.parse(document.querySelector(sel).textContent)}}}catch(e){}return null};var reg=function reg(regex,source,match,exec){try{var matches=exec?source.exec(regex):source.match(regex);if(matches!=null&&matches.length>0){return match!==undefined?match==-1?matches[matches.length-1]:matches[match]:true}}catch(e){}return match!==undefined?null:false};var xpath=function xpath(query,source){var valueOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;try{var xpathNode=document.evaluate(query,document.querySelector(source),null,valueOnly?XPathResult.FIRST_ORDERED_NODE_TYPE:XPathResult.ANY_TYPE,null);return xpathNode?valueOnly?xpathNode.singleNodeValue:xpathNode.iterateNext():false}catch(e){}return false};var titleCase=function titleCase(str){if(str){var splitStr=str;for(var _len5=arguments.length,stripList=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){stripList[_key5-1]=arguments[_key5]}for(var _i5=0,_stripList=stripList;_i5<_stripList.length;_i5++){var strip=_stripList[_i5];splitStr=splitStr.replace(strip,"")}splitStr=splitStr.trim().toLowerCase().split(" ");for(var i=0;i<splitStr.length;i++){splitStr[i]=reg(/^[i]+$/,splitStr[i])?splitStr[i].toUpperCase():splitStr[i].charAt(0).toUpperCase()+splitStr[i].substring(1)}return splitStr.join(" ")}return""};var onLoaded=function onLoaded(){try{chrome.runtime.sendMessage("lkhjgdkpibcepflmlgahofcmeagjmecc",{name:"injectedScriptLoaded",currentUrl:document.location.href,target:"background"})}catch(e){console.warn(e)}}},4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return show}));var OverlayDiv=function OverlayDiv(){var div=document.querySelector("#ScenerStatusOverlay");if(!div){div=document.createElement("div");div.id="ScenerStatusOverlay";div.style.zIndex=9999999;div.style.opacity="0";div.style.pointerEvents="none";div.style.top="50%";div.style.left="50%";div.style.transform="translate(-50%,-50%)";div.style.height=0;div.style.minHeight=0;div.style.paddingTop="33%";div.style.width="33vw";div.style.position="absolute";div.style.transition="opacity 100ms ease-in-out";div.style.backgroundImage="url('https://media.scener.com/website/syncing-indicator-extension.png')";div.style.backgroundRepeat="no-repeat";div.style.backgroundSize="contain";div.style.backgroundPosition="center center";attachToDom(div)}return div};var attachToDom=function attachToDom(div){var containerEl=document.body;containerEl.append(div)};var show=function show(){var div=OverlayDiv();if(!div.parentElement){attachToDom(div)}div.style.opacity=1;if(div.timer){clearTimeout(div.timer)}div.timer=setTimeout((function(){return hide()}),1200);console.log("show status")};var hide=function hide(){var div=OverlayDiv();if(!div.parentElement){attachToDom(div)}div.style.opacity=0;console.log("hide status")}},465:function(module,exports,__webpack_require__){module.exports=__webpack_require__(637)},466:function(module,exports){var code='<div id="ToggleButtonContainer"> <button id="ToggleButton"> <div id="ToggleButtonBadge"></div> <svg id="ScenerLogo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 774 829"> <path fill="#ff9900" d="M480.19,583.62a23.44,23.44,0,0,0-23.43-23H326.65A23.45,23.45,0,0,0,303.2,584.1v.37h.05a31.82,31.82,0,0,0-.32,3.56C301.4,642.41,328.1,705,341.18,732.18c1.67,3.47,4.35,5.47,7.55,5.47,4.8,0,8.54-9.7,10.28-12.69a4.75,4.75,0,0,1,4.06-2.54,4.94,4.94,0,0,1,4.49,3.41L384,783.2a4.43,4.43,0,0,0,4,3.07,4.49,4.49,0,0,0,4.13-3.3l30.63-94.09a3,3,0,0,1,2.76-2.31,3.07,3.07,0,0,1,2.89,2.79l1.4,4.23c.83,3.67,3.5,5.74,6.23,5.74a6,6,0,0,0,4.87-2.73c23.71-33.51,34.35-78.21,38.94-106.06A30.38,30.38,0,0,0,480.19,583.62Zm-32.32,38.9c-5.07,16.46-6.28,19.16-8,24-1.07,3-4.9,13.07-9.59,11.19-8-3.2-6.4-22.39-16-19.19-9.1,3-19.19,75.15-27.18,76.75-9.41,1.88-11.2-36.78-16-36.78-6.4,0-6.4,17.59-12.8,17.59-8,0-10.38-23.43-19.18-51.16-6.74-21.23-9.6-50-9.6-51.17a8,8,0,0,1,8-8H444.67a8,8,0,0,1,8,8C452.66,594.75,454.26,601.73,447.87,622.52Z"/> <path fill="#ffffff" d="M708.85,221.64a72.8,72.8,0,0,0-27.14-17.11l-14.77-5.19,3.74-15.2,12.22-49.63v0c.06-.25.12-.51.17-.76a72.91,72.91,0,0,0-14.64-61.4,70,70,0,0,0-54.51-26.42H158.3A72.2,72.2,0,0,0,90.07,134c.64,2.62,9,36.51,12.21,49.64l3.7,15-14.52,5.3a72.92,72.92,0,0,0-26.31,16.82,72.23,72.23,0,0,0-20.52,60.59c2.74,13.34,48,188.57,52.39,203a72.83,72.83,0,0,0,21.45,26.58,71.51,71.51,0,0,0,43.86,14.85H263.19l248.32,0,15.87,0,86.86.18a63.67,63.67,0,0,0,8.24-.71l.5-.1.51-.07a72.63,72.63,0,0,0,56-42.11c4.15-13.94,46.31-183.91,49-195.16a72.23,72.23,0,0,0-19.56-66.14ZM158.38,72.9H613.14c27.58,0,48.81,27,42.74,55.15l-9.2,37.36a30.08,30.08,0,0,1-18.86,21.08c-9.16,3.35-21.13,9.07-31.4,18.41-12.85,11.68-20.5,27.19-24,35.58l-11.36,46.11a42.24,42.24,0,0,1-41,32.14H252a42.24,42.24,0,0,1-41-32.14l-11.2-45.45c-3-8-10.78-25.15-25.47-37.55-10-8.43-21.49-13.78-30.41-17a30.18,30.18,0,0,1-19.07-21.16l-9.15-37.13A45.18,45.18,0,0,1,158.38,72.9ZM700.9,283.67,655.38,468.4a45.22,45.22,0,0,1-39.07,30.18l-123.77.16H163.35v-.05c-.6,0-1.2.05-1.81.05A45.22,45.22,0,0,1,118.09,466L71.59,282.85a45.21,45.21,0,0,1,87.63-22.32l29,115.82a42.26,42.26,0,0,0,41,32H544.14a42.25,42.25,0,0,0,41-32.15l29.25-118.66a45.21,45.21,0,0,1,87.79,15.19A85.61,85.61,0,0,1,700.9,283.67Z"/> </svg> <svg id="ScenerCloseIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M0 0h24v24H0V0z" fill="none"/> <path fill="#ffffff" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/> </svg> </button> <div id="ToggleButtonRings"></div> </div> <div id="ScenerOverlayFrameContainer"> <iframe id="ScenerOverlayFrame"></iframe> </div> <style id="scener-styles">@keyframes scener_spin{0%{transform:rotate(0)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes scener_spin{0%{transform:rotate(0)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}@keyframes scener_punch{0%{transform:scale(0)}10%{transform:scale(1.3)}66%{transform:scale(.7)}100%{transform:scale(1)}}@-webkit-keyframes scener_punch{0%{transform:scale(0)}10%{transform:scale(1.3)}66%{transform:scale(.7)}100%{transform:scale(1)}}@keyframes scener_wiggle{0%{transform:rotate(0)}20%{transform:rotate(30deg)}40%{transform:rotate(-30deg)}50%{transform:rotate(15deg)}60%{transform:rotate(-10deg)}70%{transform:rotate(5deg)}76%{transform:rotate(0)}100%{transform:rotate(0)}}@-webkit-keyframes scener_wiggle{0%{transform:rotate(0)}20%{transform:rotate(30deg)}40%{transform:rotate(-30deg)}50%{transform:rotate(15deg)}60%{transform:rotate(-10deg)}70%{transform:rotate(5deg)}76%{transform:rotate(0)}100%{transform:rotate(0)}}@keyframes scener_pulse{0%{opacity:1}50%{opacity:.7}100%{opacity:1}}@-webkit-keyframes scener_pulse{0%{opacity:1}50%{opacity:.7}100%{opacity:1}}@keyframes scener_pulse-50{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}@-webkit-keyframes scener_pulse-50{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}@keyframes scener_pulse-25{0%{opacity:1}50%{opacity:.25}100%{opacity:1}}@-webkit-keyframes scener_pulse-25{0%{opacity:1}50%{opacity:.25}100%{opacity:1}}@keyframes scener_pulse-0{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-webkit-keyframes scener_pulse-0{0%{opacity:1}50%{opacity:0}100%{opacity:1}}#ScenerOverlay *{box-sizing:border-box!important}#ScenerOverlay #ToggleButtonContainer{width:300px;height:300px;border-radius:50%;z-index:400;position:absolute;right:0;bottom:0;border:none;outline:0;pointer-events:none;opacity:1;overflow:visible}#ScenerOverlay #ToggleButton{width:48px;height:48px;border-radius:50%;z-index:500;position:absolute;right:32px;bottom:32px;border:none;outline:0;background-image:linear-gradient(90deg,#270d70,#9013fe);pointer-events:all}#ScenerOverlay #ToggleButtonContainer #ToggleButtonRings{width:48px;height:48px;border-radius:50%;z-index:1;position:absolute;right:32px;bottom:32px;border:none;outline:0;pointer-events:none;transform:scale(0);opacity:0;transition:all linear .2s .5s}#ScenerOverlay #ToggleButtonContainer.hover #ToggleButtonRings{transform:scale(1);opacity:1;transition:all linear .2s 0s}#ScenerOverlay.open #ToggleButtonContainer{pointer-events:none}#ScenerOverlay.open #ToggleButtonContainer #ToggleButtonRings{pointer-events:none;transform:scale(0)!important;opacity:0!important}#ScenerOverlay #ToggleButtonRings::after{content:"";display:block;visibility:visible;width:160px;height:160px;border-radius:50%;background-color:rgba(0,0,0,.3);position:absolute;left:50%;top:50%;z-index:0;transform:translate(-50%,-50%)}#ScenerOverlay #ToggleButtonRings::before{content:"";display:block;visibility:visible;width:300px;height:300px;border-radius:50%;background-image:radial-gradient(circle at center,rgba(155,155,155,.26),rgba(155,155,155,0));position:absolute;z-index:0;left:50%;top:50%;transform:translate(-50%,-50%)}#ScenerOverlay #ToggleButton::before{content:"";display:block;width:80px;height:80px;border-radius:50%;z-index:-1;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(0);outline:0;pointer-events:all;box-sizing:border-box;transition:transform linear .2s .1s}#ScenerOverlay.open #ToggleButton::before{content:"";display:block;width:96px;height:96px;border-radius:50%;z-index:-1;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(1);outline:0;pointer-events:all;box-sizing:border-box;border:#000 solid 24px;transition:transform linear .2s 0s}#ScenerOverlay #ToggleButton #ScenerLogo{display:block;width:24px;height:24px;position:absolute;left:50%;top:50%;z-index:4;transform:translate(-50%,-50%)}#ScenerOverlay.open #ToggleButton #ScenerCloseIcon{display:block;position:absolute;width:24px;height:24px;left:50%;top:50%;z-index:4;transform:translate(-50%,-50%);display:none}#ScenerOverlay #ToggleButton #ScenerCloseIcon{display:none}#ScenerOverlay #ToggleButton #ToggleButtonBadge{position:absolute;z-index:4;left:100%;top:0;transform:translate(-50%,-50%);width:16px;height:16px;background-color:red;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;font-weight:900;color:#fff;text-align:center;font-size:8px;border-radius:50%;opacity:0}#ScenerOverlay #ScenerOverlayFrame{height:100%;width:100%;pointer-events:all;outline:0;border:none}#ScenerOverlay #ScenerOverlayFrameContainer{position:absolute;right:56px;bottom:56px;height:700px;width:350px;z-index:2;transform:scale(.003);transform-origin:bottom right;overflow:hidden;transition:all ease-in-out .2s 0s;background:#270d70}#ScenerOverlay.open #ScenerOverlayFrameContainer{transform:scale(1);max-height:80vh;box-shadow:0 0 3rem #270d70;transition:all ease-in-out .2s 50ms}</style>';module.exports=code},467:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(factory){var registeredInModuleLoader;if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));registeredInModuleLoader=true}if(true){module.exports=factory();registeredInModuleLoader=true}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api}}})((function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function init(converter){function api(){}function set(key,value,attributes){if(typeof document==="undefined"){return}attributes=extend({path:"/"},api.defaults,attributes);if(typeof attributes.expires==="number"){attributes.expires=new Date(new Date*1+attributes.expires*864e5)}attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes){if(!attributes[attributeName]){continue}stringifiedAttributes+="; "+attributeName;if(attributes[attributeName]===true){continue}stringifiedAttributes+="="+attributes[attributeName].split(";")[0]}return document.cookie=key+"="+value+stringifiedAttributes}function get(key,json){if(typeof document==="undefined"){return}var jar={};var cookies=document.cookie?document.cookie.split("; "):[];var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split("=");var cookie=parts.slice(1).join("=");if(!json&&cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{var name=decode(parts[0]);cookie=(converter.read||converter)(cookie,name)||decode(cookie);if(json){try{cookie=JSON.parse(cookie)}catch(e){}}jar[name]=cookie;if(key===name){break}}catch(e){}}return key?jar[key]:jar}api.set=set;api.get=function(key){return get(key,false)};api.getJSON=function(key){return get(key,true)};api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))};api.defaults={};api.withConverter=init;return api}return init((function(){}))}))},468:function(module,exports){var Arrive=function(window,$,undefined){"use strict";if(!window.MutationObserver||typeof HTMLElement==="undefined"){return}var arriveUniqueId=0;var utils=function(){var matches=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(elem,selector){return elem instanceof HTMLElement&&matches.call(elem,selector)},addMethod:function(object,name,fn){var old=object[name];object[name]=function(){if(fn.length==arguments.length){return fn.apply(this,arguments)}else if(typeof old=="function"){return old.apply(this,arguments)}}},callCallbacks:function(callbacksToBeCalled,registrationData){if(registrationData&&registrationData.options.onceOnly&&registrationData.firedElems.length==1){callbacksToBeCalled=[callbacksToBeCalled[0]]}for(var i=0,cb;cb=callbacksToBeCalled[i];i++){if(cb&&cb.callback){cb.callback.call(cb.elem,cb.elem)}}if(registrationData&&registrationData.options.onceOnly&&registrationData.firedElems.length==1){registrationData.me.unbindEventWithSelectorAndCallback.call(registrationData.target,registrationData.selector,registrationData.callback)}},checkChildNodesRecursively:function(nodes,registrationData,matchFunc,callbacksToBeCalled){for(var i=0,node;node=nodes[i];i++){if(matchFunc(node,registrationData,callbacksToBeCalled)){callbacksToBeCalled.push({callback:registrationData.callback,elem:node})}if(node.childNodes.length>0){utils.checkChildNodesRecursively(node.childNodes,registrationData,matchFunc,callbacksToBeCalled)}}},mergeArrays:function(firstArr,secondArr){var options={},attrName;for(attrName in firstArr){if(firstArr.hasOwnProperty(attrName)){options[attrName]=firstArr[attrName]}}for(attrName in secondArr){if(secondArr.hasOwnProperty(attrName)){options[attrName]=secondArr[attrName]}}return options},toElementsArray:function(elements){if(typeof elements!=="undefined"&&(typeof elements.length!=="number"||elements===window)){elements=[elements]}return elements}}}();var EventsBucket=function(){var EventsBucket=function(){this._eventsBucket=[];this._beforeAdding=null;this._beforeRemoving=null};EventsBucket.prototype.addEvent=function(target,selector,options,callback){var newEvent={target:target,selector:selector,options:options,callback:callback,firedElems:[]};if(this._beforeAdding){this._beforeAdding(newEvent)}this._eventsBucket.push(newEvent);return newEvent};EventsBucket.prototype.removeEvent=function(compareFunction){for(var i=this._eventsBucket.length-1,registeredEvent;registeredEvent=this._eventsBucket[i];i--){if(compareFunction(registeredEvent)){if(this._beforeRemoving){this._beforeRemoving(registeredEvent)}var removedEvents=this._eventsBucket.splice(i,1);if(removedEvents&&removedEvents.length){removedEvents[0].callback=null}}}};EventsBucket.prototype.beforeAdding=function(beforeAdding){this._beforeAdding=beforeAdding};EventsBucket.prototype.beforeRemoving=function(beforeRemoving){this._beforeRemoving=beforeRemoving};return EventsBucket}();var MutationEvents=function(getObserverConfig,onMutation){var eventsBucket=new EventsBucket,me=this;var defaultOptions={fireOnAttributesModification:false};eventsBucket.beforeAdding((function(registrationData){var target=registrationData.target,observer;if(target===window.document||target===window){target=document.getElementsByTagName("html")[0]}observer=new MutationObserver((function(e){onMutation.call(this,e,registrationData)}));var config=getObserverConfig(registrationData.options);observer.observe(target,config);registrationData.observer=observer;registrationData.me=me}));eventsBucket.beforeRemoving((function(eventData){eventData.observer.disconnect()}));this.bindEvent=function(selector,options,callback){options=utils.mergeArrays(defaultOptions,options);var elements=utils.toElementsArray(this);for(var i=0;i<elements.length;i++){eventsBucket.addEvent(elements[i],selector,options,callback)}};this.unbindEvent=function(){var elements=utils.toElementsArray(this);eventsBucket.removeEvent((function(eventObj){for(var i=0;i<elements.length;i++){if(this===undefined||eventObj.target===elements[i]){return true}}return false}))};this.unbindEventWithSelectorOrCallback=function(selector){var elements=utils.toElementsArray(this),callback=selector,compareFunction;if(typeof selector==="function"){compareFunction=function(eventObj){for(var i=0;i<elements.length;i++){if((this===undefined||eventObj.target===elements[i])&&eventObj.callback===callback){return true}}return false}}else{compareFunction=function(eventObj){for(var i=0;i<elements.length;i++){if((this===undefined||eventObj.target===elements[i])&&eventObj.selector===selector){return true}}return false}}eventsBucket.removeEvent(compareFunction)};this.unbindEventWithSelectorAndCallback=function(selector,callback){var elements=utils.toElementsArray(this);eventsBucket.removeEvent((function(eventObj){for(var i=0;i<elements.length;i++){if((this===undefined||eventObj.target===elements[i])&&eventObj.selector===selector&&eventObj.callback===callback){return true}}return false}))};return this};var ArriveEvents=function(){var arriveDefaultOptions={fireOnAttributesModification:false,onceOnly:false,existing:false};function getArriveObserverConfig(options){var config={attributes:false,childList:true,subtree:true};if(options.fireOnAttributesModification){config.attributes=true}return config}function onArriveMutation(mutations,registrationData){mutations.forEach((function(mutation){var newNodes=mutation.addedNodes,targetNode=mutation.target,callbacksToBeCalled=[],node;if(newNodes!==null&&newNodes.length>0){utils.checkChildNodesRecursively(newNodes,registrationData,nodeMatchFunc,callbacksToBeCalled)}else if(mutation.type==="attributes"){if(nodeMatchFunc(targetNode,registrationData,callbacksToBeCalled)){callbacksToBeCalled.push({callback:registrationData.callback,elem:targetNode})}}utils.callCallbacks(callbacksToBeCalled,registrationData)}))}function nodeMatchFunc(node,registrationData,callbacksToBeCalled){if(utils.matchesSelector(node,registrationData.selector)){if(node._id===undefined){node._id=arriveUniqueId++}if(registrationData.firedElems.indexOf(node._id)==-1){registrationData.firedElems.push(node._id);return true}}return false}arriveEvents=new MutationEvents(getArriveObserverConfig,onArriveMutation);var mutationBindEvent=arriveEvents.bindEvent;arriveEvents.bindEvent=function(selector,options,callback){if(typeof callback==="undefined"){callback=options;options=arriveDefaultOptions}else{options=utils.mergeArrays(arriveDefaultOptions,options)}var elements=utils.toElementsArray(this);if(options.existing){var existing=[];for(var i=0;i<elements.length;i++){var nodes=elements[i].querySelectorAll(selector);for(var j=0;j<nodes.length;j++){existing.push({callback:callback,elem:nodes[j]})}}if(options.onceOnly&&existing.length){return callback.call(existing[0].elem,existing[0].elem)}setTimeout(utils.callCallbacks,1,existing)}mutationBindEvent.call(this,selector,options,callback)};return arriveEvents};var LeaveEvents=function(){var leaveDefaultOptions={};function getLeaveObserverConfig(){var config={childList:true,subtree:true};return config}function onLeaveMutation(mutations,registrationData){mutations.forEach((function(mutation){var removedNodes=mutation.removedNodes,callbacksToBeCalled=[];if(removedNodes!==null&&removedNodes.length>0){utils.checkChildNodesRecursively(removedNodes,registrationData,nodeMatchFunc,callbacksToBeCalled)}utils.callCallbacks(callbacksToBeCalled,registrationData)}))}function nodeMatchFunc(node,registrationData){return utils.matchesSelector(node,registrationData.selector)}leaveEvents=new MutationEvents(getLeaveObserverConfig,onLeaveMutation);var mutationBindEvent=leaveEvents.bindEvent;leaveEvents.bindEvent=function(selector,options,callback){if(typeof callback==="undefined"){callback=options;options=leaveDefaultOptions}else{options=utils.mergeArrays(leaveDefaultOptions,options)}mutationBindEvent.call(this,selector,options,callback)};return leaveEvents};var arriveEvents=new ArriveEvents,leaveEvents=new LeaveEvents;function exposeUnbindApi(eventObj,exposeTo,funcName){utils.addMethod(exposeTo,funcName,eventObj.unbindEvent);utils.addMethod(exposeTo,funcName,eventObj.unbindEventWithSelectorOrCallback);utils.addMethod(exposeTo,funcName,eventObj.unbindEventWithSelectorAndCallback)}function exposeApi(exposeTo){exposeTo.arrive=arriveEvents.bindEvent;exposeUnbindApi(arriveEvents,exposeTo,"unbindArrive");exposeTo.leave=leaveEvents.bindEvent;exposeUnbindApi(leaveEvents,exposeTo,"unbindLeave")}if($){exposeApi($.fn)}exposeApi(HTMLElement.prototype);exposeApi(NodeList.prototype);exposeApi(HTMLCollection.prototype);exposeApi(HTMLDocument.prototype);exposeApi(Window.prototype);var Arrive={};exposeUnbindApi(arriveEvents,Arrive,"unbindAllArrive");exposeUnbindApi(leaveEvents,Arrive,"unbindAllLeave");return Arrive}(window,typeof jQuery==="undefined"?null:jQuery,undefined)},637:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var netflix_api_namespaceObject={};__webpack_require__.r(netflix_api_namespaceObject);__webpack_require__.d(netflix_api_namespaceObject,"getCurrentState",(function(){return netflix_api_getCurrentState}));__webpack_require__.d(netflix_api_namespaceObject,"modifyOutputUrl",(function(){return modifyOutputUrl}));__webpack_require__.d(netflix_api_namespaceObject,"play",(function(){return play}));__webpack_require__.d(netflix_api_namespaceObject,"pause",(function(){return pause}));__webpack_require__.d(netflix_api_namespaceObject,"needsLogin",(function(){return netflix_api_needsLogin}));__webpack_require__.d(netflix_api_namespaceObject,"isUnavailable",(function(){return netflix_api_isUnavailable}));__webpack_require__.d(netflix_api_namespaceObject,"setCurrentTime",(function(){return setCurrentTime}));__webpack_require__.d(netflix_api_namespaceObject,"getCurrentTime",(function(){return getCurrentTime}));__webpack_require__.d(netflix_api_namespaceObject,"isPlaying",(function(){return isPlaying}));__webpack_require__.d(netflix_api_namespaceObject,"getTitle",(function(){return netflix_api_getTitle}));__webpack_require__.d(netflix_api_namespaceObject,"getSubtitle",(function(){return netflix_api_getSubtitle}));__webpack_require__.d(netflix_api_namespaceObject,"getDuration",(function(){return getDuration}));__webpack_require__.d(netflix_api_namespaceObject,"getVideoId",(function(){return netflix_api_getVideoId}));__webpack_require__.d(netflix_api_namespaceObject,"isWatchUrl",(function(){return netflix_api_isWatchUrl}));__webpack_require__.d(netflix_api_namespaceObject,"netflixPlayerAppApi",(function(){return netflixPlayerAppApi}));__webpack_require__.d(netflix_api_namespaceObject,"sessionId",(function(){return sessionId}));__webpack_require__.d(netflix_api_namespaceObject,"VideoElement",(function(){return VideoElement}));__webpack_require__.d(netflix_api_namespaceObject,"FullscreenButton",(function(){return FullscreenButton}));__webpack_require__.d(netflix_api_namespaceObject,"ScrubberElement",(function(){return ScrubberElement}));__webpack_require__.d(netflix_api_namespaceObject,"ScrubberSelector",(function(){return ScrubberSelector}));__webpack_require__.d(netflix_api_namespaceObject,"VideoPlayer",(function(){return VideoPlayer}));__webpack_require__.d(netflix_api_namespaceObject,"isInvalidGeoLocUrl",(function(){return isInvalidGeoLocUrl}));__webpack_require__.d(netflix_api_namespaceObject,"isKidsProfile",(function(){return isKidsProfile}));__webpack_require__.d(netflix_api_namespaceObject,"isLibraryView",(function(){return isLibraryView}));__webpack_require__.d(netflix_api_namespaceObject,"isSignedIn",(function(){return isSignedIn}));__webpack_require__.d(netflix_api_namespaceObject,"PlayerControls",(function(){return PlayerControls}));__webpack_require__.d(netflix_api_namespaceObject,"SkipIntroElement",(function(){return SkipIntroElement}));var common=__webpack_require__(0);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var contentTitles={};var contentSubtitles={};var netflix_api_getCurrentState=function getCurrentState(){var state={service:"netflix",fullscreen:Object(common["e"])(),error:netflix_api_needsLogin(),navReady:!netflix_api_needsLogin()};if(netflix_api_isWatchUrl(document.location.href)){var id=netflix_api_getVideoId();var title="";var subtitle="";if(id){if(contentTitles[id]){title=contentTitles[id]}else{title=netflix_api_getTitle();if(title){contentTitles[id]=title}}if(contentSubtitles[id]){subtitle=contentSubtitles[id]}else{subtitle=netflix_api_getSubtitle();if(subtitle){contentSubtitles[id]=subtitle}}}state=_objectSpread({duration:!netflix_api_needsLogin()&&getDuration(),currentTime:getCurrentTime(),playing:isPlaying(),title:title,subtitle:subtitle,videoId:id,error:netflix_api_needsLogin(),unavailable:netflix_api_isUnavailable(),lang:window.navigator.language,metadata:{title:title,subtitle:subtitle,year:null}},state)}return _objectSpread(_objectSpread({},state),{},{url:modifyOutputUrl(document.location.href)})};var modifyOutputUrl=function modifyOutputUrl(url){var newUrl=url;if(netflix_api_isWatchUrl(url)&&netflix_api_getVideoId()){newUrl="https://"+document.location.hostname+"/watch/"+netflix_api_getVideoId()}return newUrl};var play=function play(){VideoPlayer()&&VideoPlayer().play()};var pause=function pause(){VideoPlayer()&&VideoPlayer().pause()};var netflix_api_needsLogin=function needsLogin(){return Object(common["d"])(".login-button",".btn-get-started",".authLinks")?"Sign into your Netflix account to sync video":null};var netflix_api_isUnavailable=function isUnavailable(){var hasAvailErrorCode=Object(common["i"])('//p[contains(text(), "t available in your country")]',".error-page--content",false);var hasAvailErrorTxt=Object(common["i"])('//span[contains(text(), "UI3003")]',".error-page--content",false);return!!(hasAvailErrorCode||hasAvailErrorTxt)};var setCurrentTime=function setCurrentTime(time){if(VideoPlayer()){var seekPos=Math.min(VideoPlayer().getDuration(),Math.max(0,Math.round(time-1)));console.log("seek to",seekPos);VideoPlayer().seek(seekPos)}};var getCurrentTime=function getCurrentTime(){var _VideoElement;return((_VideoElement=VideoElement())===null||_VideoElement===void 0?void 0:_VideoElement.currentTime)*1e3};var isPlaying=function isPlaying(){var _VideoElement2;return!((_VideoElement2=VideoElement())!==null&&_VideoElement2!==void 0&&_VideoElement2.paused)};var netflix_api_getTitle=function getTitle(){return Object(common["c"])('div[data-uia="video-title"] h4','div[data-uia="video-title"]',".player-title-evidence .title")};var netflix_api_getSubtitle=function getSubtitle(){var subTitlePre=Object(common["c"])(".player-title-evidence .playable-title");if(subTitlePre){return subTitlePre.replace("“","").replace("”","")}else{var els=document.querySelector('div[data-uia="video-title"]')?document.querySelectorAll('div[data-uia="video-title"] span'):false;if(!els){return""}var result=[];for(var i=0;i<els.length;i++){result.push(els[i])}return result.map((function(el){return el.textContent})).join(" ").trim()}};var getDuration=function getDuration(){var _VideoPlayer;return(_VideoPlayer=VideoPlayer())===null||_VideoPlayer===void 0?void 0:_VideoPlayer.getDuration()};var netflix_api_getVideoId=function getVideoId(){var videoIdPre=Object(common["a"])("data-videoid",'div[data-uia="player"]');var curVideoId=videoIdPre||Object(common["g"])(/\/watch\/(.+?)$/,document.location.pathname,1);if(document.location.href.includes("?origId=")){curVideoId=document.location.href.split("origId=")[1]}return curVideoId};var netflix_api_isWatchUrl=function isWatchUrl(url){return Object(common["g"])(/^https:\/\/www.netflix.com\/watch\//,url)};var netflixPlayerAppApi=function netflixPlayerAppApi(){return netflix.appContext.state.playerApp.getAPI()};var sessionId=function sessionId(){var sessionIds=netflixPlayerAppApi().videoPlayer.getAllPlayerSessionIds();if(sessionIds&&sessionIds.length){return sessionIds.find((function(sid){return sid.indexOf("watch-")!==-1}))}else{return null}};var VideoElement=function VideoElement(){var video=document.querySelector("video:not(.scener)");if(video){return video}return null};var FullscreenButton=function FullscreenButton(){return document.querySelector(".button-nfplayerFullscreen")};var ScrubberElement=function ScrubberElement(){var element=document.querySelector(".progress-control")?document.querySelector(".progress-control"):document.querySelector("#scrubber-component");return element};var ScrubberSelector=function ScrubberSelector(){return".progress-control, #scrubber-component"};var VideoPlayer=function VideoPlayer(){var videoPlayer=netflixPlayerAppApi().videoPlayer;if(videoPlayer){var playerSessionId=sessionId();return videoPlayer.getVideoPlayerBySessionId(playerSessionId)}return null};var isInvalidGeoLocUrl=function isInvalidGeoLocUrl(url){var watchRegex=/^https:\/\/www.netflix.com\/(?:watch|title)\/0\?origId.*#scener=.*$/;var match=url.match(watchRegex);if(match!=null&&match.length>0){return true}return false};var isKidsProfile=function isKidsProfile(){var res=false;try{res=netflix.reactContext.models.memberContext.data.userInfo.isKids}catch(e_){}return res};var isLibraryView=function isLibraryView(url){var libraryRegex=/^https:\/\/www.netflix.com\/browse|kids|title|search|$/;var match=url.match(libraryRegex);if(match!=null&&match.length>0){return true}return false};var isSignedIn=function isSignedIn(){var signedIn=true;var signinUrl="";var a=document.getElementsByTagName("a");for(var i=0;i<a.length;i++){var item=a[i];if(item.href.startsWith("https://www.netflix.com/login")){signedIn=false;signinUrl=item.href;break}}var ret={};ret.signedIn=signedIn;ret.loginUrl=signinUrl;return ret};var PlayerControls=function PlayerControls(){var playerControls=document.querySelector(".AkiraPlayer  .controls,#netflix-player,.PlayerControlsNeo__all-controls");return playerControls};var SkipIntroElement=function SkipIntroElement(){var el=document.querySelector(".skip-credits");return el};var ExtensionMessagingClient=__webpack_require__(7);var showOverlay=true;var hiddenOverlaySetting=false;var drawerOpen=false;var autoOpen=false;var featuredRooms=[];var serviceName="";var scenerURL=false?undefined:false?undefined:false?undefined:"scener.com";var cTime=Math.floor(Date.now()/1e5);var div=document.querySelector("#ScenerOverlay");if(!div){div=document.createElement("div");div.id="ScenerOverlay"}var OverlayDiv=div;OverlayDiv.style="position:fixed; left:0; right:0; top:0; bottom: 0; width:100vw; height:100vh; pointer-events:none; z-index: 9999999;";var hasOpened=false;var show=function show(options){if(!options){options={}}if(!options.parentSelector){options.parentSelector="document.body"}if(options.service){serviceName=options.service}if(options.autoOpen){autoOpen=true}if(OverlayDiv&&OverlayDiv.parentElement){OverlayDiv.style.opacity=1;if(options.type&&OverlayDiv.classList.contains(options.type)){return true}OverlayDiv.parentElement.removeChild(OverlayDiv)}var parentEl=document.querySelector(options.parentSelector);if(!parentEl){parentEl=document.body}OverlayDiv.className=options&&options.type;OverlayDiv.innerHTML=__webpack_require__(466);if(OverlayDiv.parentElement!=parentEl){parentEl.appendChild(OverlayDiv)}drawerOpen=false;OverlayDiv.style.opacity=1;OverlayDiv.querySelector("#ToggleButton").addEventListener("click",(function(){drawerOpen=!drawerOpen;if(drawerOpen){Overlay_open()}else{Overlay_close()}}));var iframe=OverlayDiv.querySelector("iframe");var url=new URL("https://"+scenerURL+"/static/embed-load.html");url.searchParams.set("service",document.location.href);url.searchParams.set("redirect","https://"+scenerURL+"/embed");iframe.src=url.href;OverlayDiv.querySelector("iframe").contentWindow.addEventListener("message",onReady)};var onReady=function onReady(data){if(data.source=="scener-embed"){OverlayDiv.querySelector("iframe").contentWindow.removeEventListener("message",onReady);OverlayDiv.querySelector("iframe").contentWindow.postMessage({source:"scener-content",scenerTrackEvent:{eventName:"injectedWidget",url:document.location.href}},"*");if(autoOpen){Overlay_open(true)}}};var attachMouseHandlers=function attachMouseHandlers(){document.addEventListener("mousemove",(function(ev){if(OverlayDiv&&OverlayDiv.parentElement&&OverlayDiv.querySelector("#ToggleButtonContainer")){var rightEdge=window.innerWidth;var bottomEdge=window.innerHeight;if(ev.clientX>rightEdge-300&&ev.clientY>bottomEdge-300){if(!OverlayDiv.querySelector("#ToggleButtonContainer").classList.contains("hover")){OverlayDiv.querySelector("#ToggleButtonContainer").classList.add("hover")}}else{if(OverlayDiv.querySelector("#ToggleButtonContainer").classList.contains("hover")){OverlayDiv.querySelector("#ToggleButtonContainer").classList.remove("hover")}}}}))};var Overlay_open=function open(autoOpened){if(OverlayDiv){OverlayDiv.classList.add("open");var iframe=OverlayDiv.querySelector("iframe");if(!hasOpened){var url=new URL("https://"+scenerURL+"/embed");url.searchParams.set("service",document.location.href);iframe.src=url.href}hasOpened=true;drawerOpen=true;OverlayDiv.querySelector("iframe").contentWindow.postMessage({source:"scener-content",scenerTrackEvent:{eventName:"openedWidget",autoOpen:!!autoOpened,url:document.location.href}},"*")}};var Overlay_close=function close(){if(OverlayDiv){drawerOpen=false;OverlayDiv.classList.remove("open");OverlayDiv.querySelector("iframe").contentWindow.postMessage({source:"scener-content",scenerTrackEvent:{eventName:"closedWidget",url:document.location.href}},"*")}};var hide=function hide(){if(OverlayDiv&&OverlayDiv.parentElement){OverlayDiv.style.opacity=0;OverlayDiv.parentElement.removeChild(OverlayDiv)}};attachMouseHandlers();var StatusOverlay=__webpack_require__(4);var js_cookie=__webpack_require__(467);var arrive=__webpack_require__(468);console.log("injected scener");var hasShownWidget=false;var netflix_receiveMessage=function receiveMessage(_ref){var data=_ref.data;var name=data.name,value=data.value,sender=data.sender,config=data.config;if(name&&sender!=injectedMsgClient.senderId){switch(name){case"navigate":{if(typeof value=="string"){document.location.href=value}else if(value.href){document.location.href=value.href}else if(value.pathname){document.location.pathname=value.pathname}break}case"pauseVideo":{if(VideoPlayer()){StatusOverlay["a"]()}pause();break}case"playVideo":{if(VideoPlayer()){StatusOverlay["a"]()}play();break}case"setCurrentTime":{if(VideoPlayer()){StatusOverlay["a"]()}setCurrentTime(value);break}case"showWidget":{if(document.querySelector(".mainView")){console.log("**** widget info",data);show(config)}hasShownWidget=true;break}case"closeWidget":{Overlay_close();break}case"hideWidget":{hide();break}case"getCurrentState":{var state=netflix_api_getCurrentState();injectedMsgClient.sendMessage({name:"currentState",state:state,response:true,sender:sender});break}default:break}}};var injectedMsgClient=new ExtensionMessagingClient["a"]("injected");injectedMsgClient.addListener(netflix_receiveMessage);(function(){try{var error=null;console.log("attaching arrive listeners");chrome.runtime.sendMessage("lkhjgdkpibcepflmlgahofcmeagjmecc",{name:"isSidebarOpen"},null,(function(resp){if(!resp){}}));document.arrive(".mainView",{existing:true},(function(element_){if(hasShownWidget){show({type:"main",service:"netflix"})}}));document.leave(".mainView",(function(element_){hide()}));document.arrive(".PlayerSpinner--percentage",{existing:true},(function(element_){setTimeout((function(){if(document.querySelector(".PlayerSpinner--percentage")){if(document.querySelector(".PlayerSpinner--percentage").innerHTML.indexOf("99%")!=-1){console.log("99%! error");error="video-load-timeout";chrome.runtime.sendMessage("lkhjgdkpibcepflmlgahofcmeagjmecc",{name:"error",currentUrl:document.location.href,error:"video-load-timeout",target:"sidebar"})}}}),1e4)}));document.leave(".PlayerSpinner--percentage",(function(element_){if(error=="video-load-timeout"){error=null;console.log("error resolved 99%");chrome.runtime.sendMessage("lkhjgdkpibcepflmlgahofcmeagjmecc",{name:"errorResolved",currentUrl:document.location.href,error:"video-load-timeout",target:"sidebar"})}}));document.arrive(".nfp-fatal-error-view",{existing:true},(function(element){if(element){var titleEl=element.querySelector(".error-title");var textEl=element.querySelector(".error-text");var errorCodeEl=element.querySelector(".error-code span");var errorInfo={};if(titleEl){errorInfo.title=titleEl.innerHTML}if(textEl){errorInfo.text=textEl.innerHTML}if(errorCodeEl){errorInfo.code=errorCodeEl.innerHTML}error=errorInfo;chrome.runtime.sendMessage("lkhjgdkpibcepflmlgahofcmeagjmecc",{name:"error",currentUrl:document.location.href,info:errorInfo,error:"service-error",target:"sidebar"})}}));document.arrive(".errorBox",{existing:true},(function(element){if(element){var errorInfo={};errorInfo.title="Netflix Site Error";errorInfo.text=element.innerHTML;error=errorInfo;chrome.runtime.sendMessage("lkhjgdkpibcepflmlgahofcmeagjmecc",{name:"error",currentUrl:document.location.href,info:errorInfo,error:"service-error",target:"sidebar"})}}));document.leave(".nfp-fatal-error-view",(function(){chrome.runtime.sendMessage("lkhjgdkpibcepflmlgahofcmeagjmecc",{name:"errorResolved",currentUrl:document.location.href,error:"service-error",target:"sidebar"})}))}catch(e){console.warn(e)}})();(function(){Object(common["f"])()})();var netflix_netflix=__webpack_exports__["default"]={Netflix:netflix_api_namespaceObject}},7:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ExtensionMessagingClient=_createClass((function ExtensionMessagingClient(senderId){var _this=this;_classCallCheck(this,ExtensionMessagingClient);_defineProperty(this,"sendMessage",(function(data){var targetWindow=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this._window;if(!data.sender){data.sender=_this.senderId}data.via=_this.senderId;data.source="scener";if(targetWindow&&targetWindow.postMessage){targetWindow.postMessage(data,"*")}else{window.postMessage(data,"*")}}));_defineProperty(this,"sendRequest",(function(requestData){var timeout=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2e3;var targetWindow=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_this._window;requestData.request=true;return new Promise((function(resolve,reject){var requestTimeout=setTimeout((function(){_this._window.removeEventListener("message",responseHandler);reject({error:"timeout",request:requestData})}),timeout);var responseHandler=function responseHandler(_ref){var data=_ref.data;console.log(data);if(requestData.name==data.name&&data.response==true&&data.sender!=data.target){_this._window.removeEventListener("message",responseHandler);clearTimeout(requestTimeout);resolve(data)}};_this._window.addEventListener("message",responseHandler);_this.sendMessage(requestData,targetWindow)}))}));_defineProperty(this,"addListener",(function(cb){var targetWindow=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this._window;targetWindow.addEventListener("message",cb,false);return function(){targetWindow.removeEventListener("message",cb)}}));_defineProperty(this,"removeListener",(function(cb){var targetWindow=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this._window;targetWindow.removeEventListener("message",cb)}));this.senderId=senderId;this._window=senderId=="iframe"?window.self:window}));__webpack_exports__["a"]=ExtensionMessagingClient}});